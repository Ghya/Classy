{% extends 'layout.html.twig' %}

{% block title %}Tableaux de bord{% endblock %}

{% block content %} 

<div class="container">
    <div class="row">

    <!-- ==================== -->
    <!--  WELCOME ZONE -->
    <!-- ==================== -->

        
        <div class="col-md-6">

            {% for flashMessage in app.session.flashbag.get('success') %}
                <div class="alert alert-success">
                    {{ flashMessage }}
                </div>
            {% endfor %}


            <h3>Classy</h3>
            <p>Choisissez une classe dans le menu pour commencer la gestion</p>
            <p>ou</p> 

            {{ form_start(classForm) }}

                    <!-- title form -->

                    <h3>Créer une Classe</h3>

                        <p>Choix du niveau</p>
                        <div class="form-group">
                            {{ form_errors(classForm.lvl) }}
                            {{ form_widget(classForm.lvl, { 'attr':  {
                                'class': 'form-control'
                            }}) }}
                        </div>
                    
                    <!-- content form -->

                        <p>Nom de l'établissement</p>
                        <div class="form-group">
                            {{ form_errors(classForm.etab) }}
                            {{ form_widget(classForm.etab, { 'attr':  {
                                'class': 'form-control',
                                'placeholder': 'Nom de l\'établissement'
                            }}) }}
                        </div>

                    <!-- submit form -->
                        
                        <div class="form-group">
                            <input type="submit" class="btn btn-primary" value="Enregistrer" />
                        </div>

                    {{ form_end(classForm) }}
        </div>
        

    <!-- ==================== -->
    <!--  MEMO ZONE -->
    <!-- ==================== -->

    
        
            <div class="col-md-6">
                <div id="add_memo_container">
                
                    {% if memoForm %}

                    <h3>Mémos</h3>

                        {% for memo in memos %}

                            <div id="user_comment_container">
                                <strong>{{ memo.title }}</strong>
                                <p>{{ memo.content }}</p>
                                <p>le : {{ memo.date }}</p>
                            </div>

                        {% else %}

                            Vous n'avez aucun Mémo

                        {% endfor %}
                    

                    {{ form_start(memoForm) }}

                    <!-- title form -->

                    <h3>Ajouter un Memo</h3>

                        <div class="form-group">
                            {{ form_errors(memoForm.title) }}
                            {{ form_widget(memoForm.title, { 'attr':  {
                                'rows': '4',
                                'class': 'form-control',
                                'placeholder': 'Nom du Mémo'
                            }}) }}
                        </div>
                    
                    <!-- content form -->

                        <div class="form-group">
                            {{ form_errors(memoForm.content) }}
                            {{ form_widget(memoForm.content, { 'attr':  {
                                'rows': '4',
                                'class': 'form-control',
                                'placeholder': 'Tapez votre memo'
                            }}) }}
                        </div>

                    <!-- submit form -->
                        
                        <div class="form-group">
                            <input type="submit" class="btn btn-primary" value="Enregistrer" />
                        </div>

                    {{ form_end(memoForm) }}

                    {% else %}

                        <a href="{{ path('login') }} ">Connectez-vous</a> pour ajouter un memo.

                    {% endif %}
                
                </div>
            </div>            
        

    </div><!-- /.row -->
</div><!-- /.container -->

{% endblock %}