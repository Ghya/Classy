{% extends 'layout.html.twig' %}

{% block title %}Board{% endblock %}

{% block nav %}{% include 'nav_options.html.twig' %}{% endblock %}

{% block content %}

    <div class="container">

        <div class="row">
            <div class="page_block_title col-md-12">
                <h3>Edition du domaine : {{ subject.name }}</h3>
                <p>Appliquer les modifications au domaine selectionné</p>
            </div>
        </div>

        <div class="row page_block_content">
            <div class="col-md-6">

                {{ form_start(subjectForm) }}

                    <!-- name form -->

                    <h4>Modifier le nom du domaine</h4>

                    <div class="form-group">
                        {{ form_errors(subjectForm.name) }}
                        {{ form_widget(subjectForm.name, { 'attr':  {
                            'rows': '4',
                            'class': 'form-control',
                            'placeholder': 'Nom du domaine'
                        }}) }}
                    </div>

                    <!-- submit form -->
                        
                    <div class="form-group">
                        <input type="submit" class="btn btn-success" value="Enregistrer les modifications" />
                    </div>

                {{ form_end(subjectForm) }}

            </div>

            <div class="col-md-6">
                <div class="edit_btn_block">
                    <a href="{{ path('chapter', { 'idClass': class.id, 'idSub': subject.id  }) }}" class="btn btn-primary">
                        <i class="glyphicon glyphicon-plus"></i>
                        Créer un cour
                    </a>

                    <button type="button" class="btn btn-danger" title="Supprimer" data-toggle="modal" data-target="#subjectDialog{{ subject.id }}">
                        <i class="glyphicon glyphicon-trash"></i>
                        Supprimer le domaine
                    </button>

                    <a href="{{ path('add_subject', { 'id': class.id }) }}" class="btn btn-warning">
                        <i class="glyphicon glyphicon-remove"></i>
                        Annuler
                    </a>
                </div>
            </div>

            <div class="modal fade" id="subjectDialog{{ subject.id }}" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            <h4 class="modal-title" id="myModalLabel">Confirmation de suppression</h4>
                        </div>
                        <div class="modal-body">
                            Voulez-vous vraiment supprimer le domaine {{ subject.name }} ? </br>
                            (Attention ! Cette action est irréversible et entrainera la suppression de tout les éléments associés au domaine)
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Annuler</button>
                            <a href="{{ path('delete_sub', { 'idClass': class.id, 'idSub': subject.id  }) }}" class="btn btn-danger">Confimer suppression</a>
                        </div>
                    </div><!-- /.modal-content -->
                </div><!-- /.modal-dialog -->
            </div><!-- /.modal -->

        </div>

         
    </div>


{% endblock %}