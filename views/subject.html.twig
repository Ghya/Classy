{% extends 'layout.html.twig' %}

{% block title %}Board{% endblock %}

{% block nav %}{% include 'nav_options.html.twig' %}{% endblock %}

{% block content %} 



 <div class="container">

        <div class="row">
            <div class="col-md-12">
                <h3>Sélection d'un cours</h3>
                <p>Pour afficher un cours, trouvez le dans la liste et cliquez sur 
                    <span><a href="#"><i class="fa fa-2x fa-arrow-circle-right" aria-hidden="true"></i></a></span>
                    pour l'afficher
                </p>
            </div>
        </div>


        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">Liste des Chapitres et Séances</h3>
            </div>   
            <ul class="list-group">


                {% for subject in subjects %}
                
                    <li class="list-group-item">

                        <div class="row toggle" id="dropdown-detail-{{subject.id}}" data-toggle="detail-{{subject.id}}">
                            <div class="col-xs-10">
                                {{subject.name}}
                            </div>
                            <div class="col-xs-2"><i class="fa fa-chevron-down pull-right"></i></div>
                        </div>

                        <ul class="list-group">

                            {% for chapter in chapters %}

                                {% if chapter.subject.id == subject.id  %}

                                    <div id="detail-{{subject.id}}">


                                        <li class="list-group-item">

                                            <div class="row toggle" id="dropdown-detail-chap{{chapter.id}}" data-toggle="detail-chap{{chapter.id}}">
                                                <div class="col-xs-10">
                                                    Chapitre : {{chapter.name}}
                                                </div>
                                                <div class="col-xs-2"><i class="fa fa-chevron-down pull-right"></i></div>
                                            </div>

                                            <div id="detail-chap{{chapter.id}}">
                                                <hr></hr>
                                                <div class="container">
                                                    <div class="fluid-row">

                                                        {% for lesson in lessons %}

                                                            {% if lesson.chapter.id == chapter.id  %}

                                                                <div class="col-xs-1">
                                                                    Séance 
                                                                </div>
                                                                <div class="col-xs-3">
                                                                    {{lesson.title}}
                                                                </div>
                                                                <div class="col-xs-2">
                                                                    <span>
                                                                        <a href="{{ path('lesson', { 'idClass': class.id, 'idLess': lesson.id  }) }}">
                                                                            <i class="fa fa-2x fa-arrow-circle-right" aria-hidden="true"></i>
                                                                        </a>
                                                                    </span>
                                                                </div>

                                                            {% endif  %}

                                                        {% endfor %}

                                                    </div>
                                                </div>
                                            </div>
                                        </li>                                    
                                    </div>

                                {% endif  %}

                            {% endfor %}

                        </ul>
                    </li>

                {% endfor %}
                
            </ul>
        </div>
    </div>

    <div class="container">
        <h2>Ajout d'une évaluation</h2>
        <p>Localisez un cours dans la liste et cliquez sur + pour ajouter une évaluation.</p>

        {% for subject in subjects %}

            

                <div id="select_pannel_heading" class="panel-group">
                <a data-toggle="collapse" href="#collapse{{subject.id}}">
                    <div class="panel panel-default">
                        
                            <div class="panel-heading">
                                <h4 class="panel-title">
                                    {{subject.name}}
                                </h4>
                            </div>
                        
                        

                        <div id="collapse{{subject.id}}" class="panel-collapse collapse">
                            <ul class="list-group">

                                <p>Chapitre :</p>

                                {% for chapter in chapters %}

                                    {% if chapter.subject.id == subject.id  %}
                                            
                                            <a data-toggle="collapse" href="#collapse-chap{{chapter.id}}">
                                                <li class="list-group-item">{{chapter.name}}</li>
                                            </a>

                                            <div id="collapse-chap{{chapter.id}}" class="panel-collapse collapse">
                                                

                                                {% for lesson in lessons %}
                                                    <ul class="list-group">

                                                        {% if lesson.chapter.id == chapter.id  %}
                                                            
                                                                <a  href="{{ path('add_test', { 'idClass': class.id, 'idLess': lesson.id  }) }}">
                                                                    <li class="list-group-item">{{lesson.title}} <i class="glyphicon glyphicon-plus-sign"></i></li>
                                                                </a>

                                                        {% endif %}
                                                    </ul>
                                                {% endfor %}

                                            </div>
                                    {% endif %}
                                {% endfor %}
                            </ul>
                        </div>
                    </div>
                </a>
                </div>
            
        {% endfor %}
    </div>

    

{% endblock %}